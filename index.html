<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universe Vocabulary Quiz - Official</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: url('https://plus.unsplash.com/premium_photo-1721946441955-508af523ac60?q=80&w=1146&auto=format&fit=crop') no-repeat center/cover fixed;
            margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center;
        }
        body::before { content: ""; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: -1; }
        
        .quiz-card {
            background: #ffffff; border-radius: 25px; padding: 35px; width: 90%; max-width: 550px;
            text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .hide { display: none; }
        h1, h2 { font-family: 'Orbitron', sans-serif; color: #1a1a2e; margin-bottom: 20px; }
        
        /* ƒê·∫¢M B·∫¢O CH·ªÆ HI·ªÇN TH·ªä R√ï R√ÄNG */
        #question-text { color: #000000; font-size: 1.3rem; font-weight: 600; margin-bottom: 20px; line-height: 1.4; }
        
        .option-btn {
            width: 100%; text-align: left; padding: 16px; margin: 12px 0;
            border-radius: 15px; border: 2px solid #6A5ACD;
            background: #fdfdfd; 
            color: #000000 !important; /* Ch·ªØ ƒëen ƒë·∫≠m */
            font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .option-btn:hover:not([disabled]) { background: #6A5ACD; color: #ffffff !important; transform: scale(1.02); }
        .option-btn[disabled] { cursor: not-allowed; opacity: 0.8; }

        #feedback-area { font-size: 3rem; height: 70px; margin-bottom: 10px; font-weight: bold; }
        #timer-display { font-size: 1.2rem; font-weight: bold; color: #b8860b; margin-bottom: 15px; }
        
        .progress-container { background: #e0e0e0; border-radius: 10px; height: 10px; margin: 20px 0; overflow: hidden; }
        #progress-bar-fill { height: 100%; background: linear-gradient(90deg, #6A5ACD, #00d4ff); width: 0%; transition: 0.4s; }

        input#name {
            width: 80%; padding: 15px; border-radius: 15px; border: 2px solid #ddd;
            font-size: 1.1rem; text-align: center; outline: none;
        }
        input#name:focus { border-color: #6A5ACD; }

        .btn-main {
            padding: 15px 40px; border-radius: 30px; background: #6A5ACD; color: white;
            border: none; cursor: pointer; font-weight: bold; font-size: 1rem; transition: 0.3s;
        }
        .btn-main:hover { background: #483D8B; box-shadow: 0 5px 15px rgba(106, 90, 205, 0.4); }
    </style>
</head>
<body>

<div id="start" class="quiz-card">
    <h1>üöÄ UNIVERSE VOCAB</h1>
    <p style="color: #444;">Vui l√≤ng nh·∫≠p h·ªç t√™n ƒë·ªÉ l√†m b√†i b√†i thi</p>
    <input id="name" type="text" placeholder="H·ªç v√† t√™n c·ªßa b·∫°n...">
    <br><br>
    <button class="btn-main" onclick="startQuiz()">B·∫ÆT ƒê·∫¶U THI</button>
</div>

<div id="quiz" class="quiz-card hide">
    <div id="feedback-area"></div>
    <div id="display-name" style="color:#6A5ACD; font-weight:bold;"></div>
    <div class="progress-container"><div id="progress-bar-fill"></div></div>
    <div id="timer-display">‚è±Ô∏è C√≤n l·∫°i: <span id="time">20</span>s</div>
    <div id="question-text"></div>
    <div id="options"></div>
</div>

<div id="result" class="quiz-card hide">
    <h2>üåü K·∫æT QU·∫¢ CU·ªêI C√ôNG üåü</h2>
    <div id="ranking-box" style="font-size: 2.2rem; margin: 20px 0; font-family: 'Orbitron';"></div>
    <div id="final-stats" style="font-size: 1.3rem; line-height: 1.8; color: #1a1a2e; background: #f0f4ff; padding: 20px; border-radius: 15px;"></div>
    <br>
    <p style="color: #666; font-style: italic; font-size: 0.9rem;">(L∆∞u √Ω: H·ªá th·ªëng kh√¥ng hi·ªÉn th·ªã ƒë√°p √°n ƒë·ªÉ b·∫£o m·∫≠t ƒë·ªÅ thi)</p>
    <button class="btn-main" onclick="location.reload()">L√ÄM L·∫†I</button>
</div>

<script>
/* √ÇM THANH */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playBeep(type) {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain); gain.connect(audioCtx.destination);
    
    if(type === 'correct') {
        osc.frequency.setValueAtTime(1000, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(1500, audioCtx.currentTime + 0.1);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
    } else {
        osc.frequency.setValueAtTime(150, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.2);
        gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
    }
    osc.start(); osc.stop(audioCtx.currentTime + 0.3);
}

/* D·ªÆ LI·ªÜU 30 C√ÇU H·ªéI */
const quizData = [
    {q:"She has the ________ to sing beautifully.",a:["ability","ban","pilot","right"],c:0},
    {q:"He was ________ to walk because of his leg.",a:["able","unable","gentle","equal"],c:1},
    {q:"The government decided to ________ smoking.",a:["earn","face","ban","focus"],c:2},
    {q:"In the past, many girls were ________ to get married.",a:["forced","gentle","official","equal"],c:0},
    {q:"He is a famous ________ who traveled to space.",a:["firefighter","cosmonaut","surgeon","secretary"],c:1},
    {q:"We need to ________ this problem now.",a:["deal with","earn","focus","ban"],c:0},
    {q:"________ is a serious crime in families.",a:["Fitness","Domestic violence","Teamwork","Knowledge"],c:1},
    {q:"She works hard to ________ a high salary.",a:["face","earn","promote","treat"],c:1},
    {q:"Men and women should have ________ rights.",a:["equal","low-paying","mental","physical"],c:0},
    {q:"We fight for ________ in society.",a:["equality","violence","pressure","ability"],c:0},
    {q:"Using phone too much hurts your ________.",a:["fitness","eyesight","strength","knowledge"],c:1},
    {q:"You must ________ the truth.",a:["face","earn","ban","treat"],c:0},
    {q:"The ________ put out the fire.",a:["pilot","firefighter","officer","secretary"],c:1},
    {q:"Exercise helps improve your ________.",a:["fitness","knowledge","violence","reason"],c:0},
    {q:"Please ________ on your lesson.",a:["face","focus","earn","treat"],c:1},
    {q:"Organizations promote ________.",a:["gender equality","violence","pressure","safety"],c:0},
    {q:"He is very ________ with children.",a:["gentle","forced","unable","physical"],c:0},
    {q:"They will ________ next month.",a:["get married","deal with","earn","ban"],c:0},
    {q:"A surgeon is a ________ job.",a:["high-paying","low-paying","uneducated","unable"],c:0},
    {q:"Each ________ has a different name.",a:["individual","equality","knowledge","safety"],c:0},
    {q:"Children aged 4 go to ________.",a:["medical school","kindergarten","university","office"],c:1},
    {q:"Reading gives you more ________.",a:["strength","knowledge","fitness","violence"],c:1},
    {q:"Cleaning is often a ________ job.",a:["high-paying","low-paying","professional","skillful"],c:1},
    {q:"It's time to ________ about your job.",a:["make a decision","get married","deal with","ban"],c:0},
    {q:"He studies medicine at ________.",a:["kindergarten","medical school","office","camp"],c:1},
    {q:"Yoga is good for ________ health.",a:["mental","gentle","equal","forced"],c:0},
    {q:"The police ________ caught the thief.",a:["officer","secretary","pilot","patient"],c:0},
    {q:"The ________ was done by a surgeon.",a:["operation","opportunity","equality","strength"],c:0},
    {q:"Don't miss this ________ to study.",a:["pressure","opportunity","violence","victim"],c:1},
    {q:"Doing sport is a ________ activity.",a:["physical","mental","gentle","forced"],c:0}
];

let currentIndex = 0, score = 0, timer, timeLeft = 20, userName = "";

function startQuiz() {
    userName = document.getElementById("name").value.trim();
    if(!userName) return alert("Vui l√≤ng nh·∫≠p t√™n!");
    
    // X√°o tr·ªôn ƒë·ªÅ
    quizData.sort(() => Math.random() - 0.5);
    
    document.getElementById("start").classList.add("hide");
    document.getElementById("quiz").classList.remove("hide");
    document.getElementById("display-name").innerText = "H·ªçc sinh: " + userName;
    loadQuestion();
}

function loadQuestion() {
    if(currentIndex >= quizData.length) return showResult();
    
    clearInterval(timer);
    timeLeft = 20;
    document.getElementById("time").innerText = timeLeft;
    document.getElementById("feedback-area").innerText = "";
    
    const q = quizData[currentIndex];
    document.getElementById("question-text").innerText = `C√¢u ${currentIndex + 1}: ${q.q}`;
    
    const optionsBox = document.getElementById("options");
    optionsBox.innerHTML = "";
    
    q.a.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(idx);
        optionsBox.appendChild(btn);
    });
    
    document.getElementById("progress-bar-fill").style.width = ((currentIndex / quizData.length) * 100) + "%";
    
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("time").innerText = timeLeft;
        if(timeLeft <= 0) checkAnswer(-1);
    }, 1000);
}

function checkAnswer(selectedIdx) {
    clearInterval(timer);
    const correctIdx = quizData[currentIndex].c;
    const feedback = document.getElementById("feedback-area");
    const buttons = document.querySelectorAll(".option-btn");
    
    buttons.forEach(b => b.disabled = true); // Kh√≥a n√∫t

    if(selectedIdx === correctIdx) {
        score++;
        playBeep('correct');
        feedback.innerText = "‚ú® Gi·ªèi qu√°! ‚ú®";
        feedback.style.color = "#2ecc71";
    } else {
        playBeep('wrong');
        feedback.innerText = "ü§° Ngu ng·ªëc! ü§°";
        feedback.style.color = "#e74c3c";
    }

    currentIndex++;
    setTimeout(loadQuestion, 1200);
}

function showResult() {
    document.getElementById("quiz").classList.add("hide");
    document.getElementById("result").classList.remove("hide");
    
    const rankBox = document.getElementById("ranking-box");
    if(score >= 25) rankBox.innerText = "üíé TH·∫¶N ƒê·ªíNG";
    else if(score >= 15) rankBox.innerText = "üöÄ PHI H√ÄNH GIA";
    else rankBox.innerText = "üåë H·ªê ƒêEN";

    document.getElementById("final-stats").innerHTML = `
        T√™n: <b>${userName}</b> <br>
        S·ªë c√¢u ƒë√∫ng: <b style="color:green">${score}</b> / ${quizData.length} <br>
        T·ª∑ l·ªá: <b>${Math.round((score/quizData.length)*100)}%</b>
    `;
}
</script>
</body>
</html>
