<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Universe Vocabulary Quiz</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Montserrat',sans-serif;
    background:url('https://plus.unsplash.com/premium_photo-1721946441955-508af523ac60?q=80&w=1146&auto=format&fit=crop') no-repeat center/cover fixed;
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.35);
    z-index:-1;
}
.quiz-card{
    background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(240,245,255,.9));
    backdrop-filter:blur(15px);
    border-radius:25px;
    padding:40px;
    width:90%;
    max-width:560px;
    text-align:center;
    box-shadow:0 25px 70px rgba(0,0,0,.35),
               inset 0 0 35px rgba(173,216,230,.25);
    animation:fadeIn .6s ease;
}
@keyframes fadeIn{
    from{opacity:0;transform:scale(.95)}
    to{opacity:1;transform:scale(1)}
}
.hide{display:none}

h1,h2,h3{
    font-family:'Orbitron',sans-serif;
    color:#0b0f2b;
    text-shadow:0 0 6px rgba(138,43,226,.35),
                1px 1px 3px rgba(0,0,0,.25);
}
p,#question-text,#final-stats,#review-container{color:#111}

input{
    width:80%;
    padding:12px;
    border-radius:10px;
    border:2px solid rgba(90,90,150,.3);
    font-size:1rem;
}
button{
    background:linear-gradient(90deg,#6A5ACD,#483D8B);
    color:#fff;
    border:none;
    padding:12px 30px;
    border-radius:25px;
    font-weight:bold;
    cursor:pointer;
    transition:.3s;
}
button:hover{transform:scale(1.05)}

.option-btn{
    width:100%;
    text-align:left;
    padding:15px;
    margin:10px 0;
    border-radius:15px;
    border:1px solid rgba(90,90,150,.3);
    background:rgba(255,255,255,.8);
    color:#000;
    font-weight:600;
    cursor:pointer;
    transition:.3s;
}
.option-btn:hover{
    background:linear-gradient(90deg,rgba(138,43,226,.15),rgba(70,130,180,.15));
    transform:translateX(6px);
}

#display-name{
    font-family:'Orbitron',sans-serif;
    color:#4b0082;
}
.progress-bar-bg{
    background:rgba(0,0,0,.15);
    height:10px;
    border-radius:5px;
    overflow:hidden;
    margin:10px 0;
}
#progress-bar-fill{
    height:100%;
    width:0;
    background:linear-gradient(90deg,#8A2BE2,#4682B4);
    transition:.4s;
}
#timer-display{
    color:#b8860b;
    font-weight:bold;
    animation:pulse 1.2s infinite;
}
@keyframes pulse{
    0%,100%{transform:scale(1)}
    50%{transform:scale(1.08)}
}
#ranking-box{
    font-size:3rem;
    color:#b8860b;
    text-shadow:0 0 15px rgba(255,215,0,.8);
}
.status-correct{color:green;font-weight:bold}
.status-wrong{color:#c00;font-weight:bold}

@media(max-width:600px){
    .quiz-card{padding:25px}
    h1{font-size:1.8rem}
}
</style>
</head>

<body>

<div id="start" class="quiz-card">
    <h1>üåå Universe Vocab Quiz üåå</h1>
    <p>Nh·∫≠p t√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
    <input id="name" placeholder="T√™n c·ªßa b·∫°n">
    <br><br>
    <button onclick="startQuiz()">B·∫Øt ƒë·∫ßu</button>
</div>

<div id="quiz" class="quiz-card hide">
    <div id="display-name"></div>
    <div class="progress-bar-bg"><div id="progress-bar-fill"></div></div>
    <div id="timer-display">‚è±Ô∏è <span id="time">20</span>s</div>
    <h2 id="question-text"></h2>
    <div id="options"></div>
</div>

<div id="result" class="quiz-card hide">
    <h2>üå† K·∫øt qu·∫£ üå†</h2>
    <div id="ranking-box"></div>
    <div id="final-stats"></div>
    <div id="review-container"></div>
    <button onclick="location.reload()">Ch∆°i l·∫°i</button>
</div>

<script>
/* ===== SOUND ===== */
const ctx=new (window.AudioContext||window.webkitAudioContext)();
function beep(f,t=.15){
    let o=ctx.createOscillator(),g=ctx.createGain();
    o.connect(g);g.connect(ctx.destination);
    o.frequency.value=f;
    g.gain.value=.15;
    o.start();o.stop(ctx.currentTime+t);
}

/* ===== SHUFFLE ===== */
function shuffleArray(arr){
    for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
    }
}

/* ===== DATA (30) ===== */
const quizData=[
{q:"She has the ________ to sing beautifully.",a:["ability","ban","pilot","right"],c:0},
{q:"He was ________ to walk because of his leg.",a:["able","unable","gentle","equal"],c:1},
{q:"The government decided to ________ smoking.",a:["earn","face","ban","focus"],c:2},
{q:"In the past, many girls were ________ to get married.",a:["forced","gentle","official","equal"],c:0},
{q:"He is a famous ________ who traveled to space.",a:["firefighter","cosmonaut","surgeon","secretary"],c:1},
{q:"We need to ________ this problem now.",a:["deal with","earn","focus","ban"],c:0},
{q:"________ is a serious crime in families.",a:["Fitness","Domestic violence","Teamwork","Knowledge"],c:1},
{q:"She works hard to ________ a high salary.",a:["face","earn","promote","treat"],c:1},
{q:"Men and women should have ________ rights.",a:["equal","low-paying","mental","physical"],c:0},
{q:"We fight for ________ in society.",a:["equality","violence","pressure","ability"],c:0},
{q:"Using phone too much hurts your ________.",a:["fitness","eyesight","strength","knowledge"],c:1},
{q:"You must ________ the truth.",a:["face","earn","ban","treat"],c:0},
{q:"The ________ put out the fire.",a:["pilot","firefighter","officer","secretary"],c:1},
{q:"Exercise helps improve your ________.",a:["fitness","knowledge","violence","reason"],c:0},
{q:"Please ________ on your lesson.",a:["face","focus","earn","treat"],c:1},
{q:"Organizations promote ________.",a:["gender equality","violence","pressure","safety"],c:0},
{q:"He is very ________ with children.",a:["gentle","forced","unable","physical"],c:0},
{q:"They will ________ next month.",a:["get married","deal with","earn","ban"],c:0},
{q:"A surgeon is a ________ job.",a:["high-paying","low-paying","uneducated","unable"],c:0},
{q:"Each ________ has a different name.",a:["individual","equality","knowledge","safety"],c:0},
{q:"Children aged 4 go to ________.",a:["medical school","kindergarten","university","office"],c:1},
{q:"Reading gives you more ________.",a:["strength","knowledge","fitness","violence"],c:1},
{q:"Cleaning is often a ________ job.",a:["high-paying","low-paying","professional","skillful"],c:1},
{q:"It's time to ________ about your job.",a:["make a decision","get married","deal with","ban"],c:0},
{q:"He studies medicine at ________.",a:["kindergarten","medical school","office","camp"],c:1},
{q:"Yoga is good for ________ health.",a:["mental","gentle","equal","forced"],c:0},
{q:"The police ________ caught the thief.",a:["officer","secretary","pilot","patient"],c:0},
{q:"The ________ was done by a surgeon.",a:["operation","opportunity","equality","strength"],c:0},
{q:"Don't miss this ________ to study.",a:["pressure","opportunity","violence","victim"],c:1},
{q:"Doing sport is a ________ activity.",a:["physical","mental","gentle","forced"],c:0}
];

let i=0,score=0,name="",time=20,timer,answers=[];

function startQuiz(){
    name=document.getElementById("name").value;
    if(!name) return alert("Nh·∫≠p t√™n!");

    shuffleArray(quizData); // ‚≠ê x√°o tr·ªôn m·ªói l∆∞·ª£t ch∆°i

    document.getElementById("start").classList.add("hide");
    document.getElementById("quiz").classList.remove("hide");
    document.getElementById("display-name").innerText="üöÄ "+name;
    loadQ();
}

function loadQ(){
    clearInterval(timer);
    time=20;
    document.getElementById("time").innerText=time;
    let q=quizData[i];
    document.getElementById("question-text").innerText=`C√¢u ${i+1}: ${q.q}`;
    let box=document.getElementById("options");
    box.innerHTML="";
    q.a.forEach((o,idx)=>{
        let b=document.createElement("button");
        b.className="option-btn";
        b.innerText=o;
        b.onclick=()=>check(idx);
        box.appendChild(b);
    });
    document.getElementById("progress-bar-fill").style.width=((i+1)/quizData.length*100)+"%";
    timer=setInterval(()=>{
        time--;
        document.getElementById("time").innerText=time;
        if(time<=0) check(-1);
    },1000);
}

function check(c){
    clearInterval(timer);
    let q=quizData[i];
    let ok=c===q.c;
    ok?(score++,beep(900)):beep(250);
    answers.push({q:q.q,u:c==-1?"H·∫øt gi·ªù":q.a[c],c:q.a[q.c],ok});
    i++;
    i<quizData.length?loadQ():showResult();
}

function showResult(){
    document.getElementById("quiz").classList.add("hide");
    document.getElementById("result").classList.remove("hide");
    document.getElementById("ranking-box").innerText=
        score>=25?"üåü Th·∫ßn ƒë·ªìng v≈© tr·ª•":
        score>=15?"üöÄ Phi h√†nh gia gi·ªèi":"ü™ê T·∫≠p s·ª±";
    document.getElementById("final-stats").innerText=`${name} ƒë√∫ng ${score}/30`;
    let r=document.getElementById("review-container");
    r.innerHTML="";
    answers.forEach((x,i)=>{
        r.innerHTML+=`<p><b>${i+1}.</b> ${x.q}<br>
        <span class="${x.ok?'status-correct':'status-wrong'}">
        ${x.ok?'‚úì '+x.u:'‚úó '+x.u+' (ƒê√°p √°n: '+x.c+')'}
        </span></p>`;
    });
}
</script>

</body>
</html>
