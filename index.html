<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universe Vocabulary Quiz - Official</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: url('https://plus.unsplash.com/premium_photo-1721946441955-508af523ac60?q=80&w=1146&auto=format&fit=crop') no-repeat center/cover fixed;
            margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center;
        }
        body::before { content: ""; position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: -1; }
        
        .quiz-card {
            background: #ffffff; border-radius: 25px; padding: 35px; width: 90%; max-width: 550px;
            text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .hide { display: none; }
        h1, h2 { font-family: 'Orbitron', sans-serif; color: #1a1a2e; margin-bottom: 20px; }
        
        /* ƒê·∫¢M B·∫¢O CH·ªÆ HI·ªÇN TH·ªä R√ï R√ÄNG */
       #question-text {
    color: #0b0b2c;
    font-size: 1.45rem;
    font-weight: 700;
    margin-bottom: 22px;
    line-height: 1.6;
}

.option-btn {
    font-size: 1.15rem;
    font-weight: 700;
    letter-spacing: 0.3px;
}
        .option-btn:hover:not([disabled]) { background: #6A5ACD; color: #ffffff !important; transform: scale(1.02); }
        .option-btn[disabled] { cursor: not-allowed; opacity: 0.8; }

        #feedback-area { font-size: 3rem; height: 70px; margin-bottom: 10px; font-weight: bold; }
        #timer-display { font-size: 1.2rem; font-weight: bold; color: #b8860b; margin-bottom: 15px; }
        
        .progress-container { background: #e0e0e0; border-radius: 10px; height: 10px; margin: 20px 0; overflow: hidden; }
        #progress-bar-fill { height: 100%; background: linear-gradient(90deg, #6A5ACD, #00d4ff); width: 0%; transition: 0.4s; }

        input#name {
            width: 80%; padding: 15px; border-radius: 15px; border: 2px solid #ddd;
            font-size: 1.1rem; text-align: center; outline: none;
        }
        input#name:focus { border-color: #6A5ACD; }

        .btn-main {
            padding: 15px 40px; border-radius: 30px; background: #6A5ACD; color: white;
            border: none; cursor: pointer; font-weight: bold; font-size: 1rem; transition: 0.3s;
        }
        .btn-main:hover { background: #483D8B; box-shadow: 0 5px 15px rgba(106, 90, 205, 0.4); }
    </style>
</head>
<body>

<div id="start" class="quiz-card">
    <h1>üöÄ UNIVERSE VOCAB</h1>
    <p style="color: #444;">Vui l√≤ng nh·∫≠p h·ªç t√™n ƒë·ªÉ l√†m b√†i b√†i thi</p>
    <input id="name" type="text" placeholder="H·ªç v√† t√™n c·ªßa b·∫°n...">
    <br><br>
    <button class="btn-main" onclick="startQuiz()">B·∫ÆT ƒê·∫¶U THI</button>
</div>

<div id="quiz" class="quiz-card hide">
    <div id="feedback-area"></div>
    <div id="display-name" style="color:#6A5ACD; font-weight:bold;"></div>
    <div class="progress-container"><div id="progress-bar-fill"></div></div>
    <div id="timer-display">‚è±Ô∏è C√≤n l·∫°i: <span id="time">20</span>s</div>
    <div id="question-text"></div>
    <div id="options"></div>
</div>

<div id="result" class="quiz-card hide">
    <h2>üåü K·∫æT QU·∫¢ CU·ªêI C√ôNG üåü</h2>
    <div id="ranking-box" style="font-size: 2.2rem; margin: 20px 0; font-family: 'Orbitron';"></div>
    <div id="final-stats" style="font-size: 1.3rem; line-height: 1.8; color: #1a1a2e; background: #f0f4ff; padding: 20px; border-radius: 15px;"></div>
    <br>
    <p style="color: #666; font-style: italic; font-size: 0.9rem;">(L∆∞u √Ω: H·ªá th·ªëng kh√¥ng hi·ªÉn th·ªã ƒë√°p √°n ƒë·ªÉ b·∫£o m·∫≠t ƒë·ªÅ thi)</p>
    <button class="btn-main" onclick="location.reload()">L√ÄM L·∫†I</button>
</div>

<script>
/* √ÇM THANH */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playBeep(type) {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain); gain.connect(audioCtx.destination);
    
    if(type === 'correct') {
        osc.frequency.setValueAtTime(1000, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(1500, audioCtx.currentTime + 0.1);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
    } else {
        osc.frequency.setValueAtTime(150, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.2);
        gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
    }
    osc.start(); osc.stop(audioCtx.currentTime + 0.3);
}

/* D·ªÆ LI·ªÜU 30 C√ÇU H·ªéI */
const quizData = [

/* =====================
   üü¢ 15 C√ÇU D·ªÑ (B1)
===================== */

{q:"She has the ________ to speak English fluently.", a:["ability","pressure","victim","violence"], c:0},
{q:"He was ________ to attend the meeting because he was sick.", a:["able","unable","gentle","equal"], c:1},
{q:"The government decided to ________ smoking in public places.", a:["focus","ban","earn","treat"], c:1},
{q:"Men and women should have ________ rights.", a:["mental","equal","physical","forced"], c:1},
{q:"Regular exercise improves your physical ________.", a:["knowledge","fitness","pressure","violence"], c:1},
{q:"She works hard to ________ enough money for her family.", a:["earn","face","ban","focus"], c:0},
{q:"Children aged 4 usually go to ________.", a:["university","office","kindergarten","camp"], c:2},
{q:"Reading books helps you gain more ________.", a:["strength","knowledge","fitness","safety"], c:1},
{q:"The firefighter helped to put out the ________.", a:["fire","pressure","opportunity","victim"], c:0},
{q:"Yoga is good for your ________ health.", a:["forced","mental","equal","violent"], c:1},
{q:"They decided to ________ next year.", a:["ban","get married","deal with","focus"], c:1},
{q:"A surgeon is a very ________ job.", a:["low-paying","high-paying","gentle","unable"], c:1},
{q:"Please ________ on what the teacher is saying.", a:["earn","focus","ban","treat"], c:1},
{q:"Everyone should be treated as an ________.", a:["individual","equality","ability","operation"], c:0},
{q:"Using phones too much can harm your ________.", a:["eyesight","fitness","knowledge","safety"], c:0},

/* =====================
   üîµ 15 C√ÇU KH√ì (B1+)
===================== */

{q:"She had to ________ a difficult decision about her career.", a:["make","earn","ban","focus"], c:0},
{q:"Domestic violence is a serious social ________.", a:["ability","issue","operation","fitness"], c:1},
{q:"He managed to ________ the problem despite the pressure.", a:["deal with","get married","ban","face with"], c:0},
{q:"This job requires both physical and mental ________.", a:["violence","strength","equality","opportunity"], c:1},
{q:"Education gives young people more ________ in life.", a:["pressure","opportunities","violence","victims"], c:1},
{q:"Gender ________ is still a challenge in many countries.", a:["equal","equality","ability","fitness"], c:1},
{q:"He spoke in a calm and ________ manner.", a:["forced","violent","gentle","unable"], c:2},
{q:"The police officer successfully ________ the suspect.", a:["earned","treated","caught","focused"], c:2},
{q:"She refused the offer because of the low ________.", a:["salary","fitness","knowledge","safety"], c:0},
{q:"A good leader knows how to ________ responsibility.", a:["earn","face","ban","force"], c:1},
{q:"He studies medicine at a well-known ________.", a:["kindergarten","medical school","camp","office"], c:1},
{q:"This course helps students develop critical ________.", a:["fitness","thinking","violence","strength"], c:1},
{q:"The operation was performed by an experienced ________.", a:["officer","surgeon","pilot","secretary"], c:1},
{q:"She didn‚Äôt want to miss the chance, so she took the ________.", a:["pressure","opportunity","violence","victim"], c:1},
{q:"Doing sports regularly is a healthy ________.", a:["decision","activity","operation","ability"], c:1}

];

let currentIndex = 0, score = 0, timer, timeLeft = 20, userName = "";

function startQuiz() {
    userName = document.getElementById("name").value.trim();
    if(!userName) return alert("Vui l√≤ng nh·∫≠p t√™n!");
    
    // X√°o tr·ªôn ƒë·ªÅ
    quizData.sort(() => Math.random() - 0.5);
    
    document.getElementById("start").classList.add("hide");
    document.getElementById("quiz").classList.remove("hide");
    document.getElementById("display-name").innerText = "H·ªçc sinh: " + userName;
    loadQuestion();
}

function loadQuestion() {
    if(currentIndex >= quizData.length) return showResult();
    
    clearInterval(timer);
    timeLeft = 20;
    document.getElementById("time").innerText = timeLeft;
    document.getElementById("feedback-area").innerText = "";
    
    const q = quizData[currentIndex];
    document.getElementById("question-text").innerText = `C√¢u ${currentIndex + 1}: ${q.q}`;
    
    const optionsBox = document.getElementById("options");
    optionsBox.innerHTML = "";
    
    q.a.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(idx);
        optionsBox.appendChild(btn);
    });
    
    document.getElementById("progress-bar-fill").style.width = ((currentIndex / quizData.length) * 100) + "%";
    
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("time").innerText = timeLeft;
        if(timeLeft <= 0) checkAnswer(-1);
    }, 1000);
}

function checkAnswer(selectedIdx) {
    clearInterval(timer);
    const correctIdx = quizData[currentIndex].c;
    const feedback = document.getElementById("feedback-area");
    const buttons = document.querySelectorAll(".option-btn");
    
    buttons.forEach(b => b.disabled = true); // Kh√≥a n√∫t

    if(selectedIdx === correctIdx) {
        score++;
        playBeep('correct');
        feedback.innerText = "‚ú® Gi·ªèi qu√°! ‚ú®";
        feedback.style.color = "#2ecc71";
    } else {
        playBeep('wrong');
        feedback.innerText = "ü§° Ngu ng·ªëc! ü§°";
        feedback.style.color = "#e74c3c";
    }

    currentIndex++;
    setTimeout(loadQuestion, 1200);
}

function showResult() {
    document.getElementById("quiz").classList.add("hide");
    document.getElementById("result").classList.remove("hide");
    
    const rankBox = document.getElementById("ranking-box");
    if(score >= 25) rankBox.innerText = "üíé TH·∫¶N ƒê·ªíNG";
    else if(score >= 15) rankBox.innerText = "üöÄ PHI H√ÄNH GIA";
    else rankBox.innerText = "üåë H·ªê ƒêEN";

    document.getElementById("final-stats").innerHTML = `
        T√™n: <b>${userName}</b> <br>
        S·ªë c√¢u ƒë√∫ng: <b style="color:green">${score}</b> / ${quizData.length} <br>
        T·ª∑ l·ªá: <b>${Math.round((score/quizData.length)*100)}%</b>
    `;
}
</script>
</body>
</html>
