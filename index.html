<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universe Vocabulary Quiz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* CSS for Universe Theme */
        body {
            font-family: 'Montserrat', sans-serif;
            background: url('https://plus.unsplash.com/premium_photo-1721946441955-508af523ac60?q=80&w=1146&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') no-repeat center center fixed;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #E0E0E0; /* Light text for dark background */
        }

        #quiz-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 20px;
        }

        .quiz-card {
            background: rgba(255, 255, 255, 0.15); /* Light glassmorphism effect */
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 550px;
            text-align: center;
            animation: fadeInScale 0.8s ease-out;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        .hide { display: none !important; }

        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
            color: #E0E0E0;
            text-shadow: 0 0 8px rgba(173, 216, 230, 0.5); /* Light blue glow */
            margin-bottom: 20px;
        }
        h2 { font-size: 1.6rem; }
        h3 { font-size: 1.2rem; }
        p { color: #C0C0C0; }

        input[type="text"] {
            width: 80%;
            padding: 12px;
            margin: 20px 0;
            border: 2px solid rgba(173, 216, 230, 0.4); /* Light blue border */
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #E0E0E0;
            outline: none;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        input[type="text"]::placeholder { color: #A0A0A0; }
        input[type="text"]:focus { border-color: #87CEEB; } /* Brighter blue on focus */

        button {
            background: linear-gradient(90deg, #6A5ACD 0%, #483D8B 100%); /* Purple gradient */
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
        }
        button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .option-btn {
            display: block;
            width: 100%;
            background: rgba(255, 255, 255, 0.1); /* Lighter glassmorphism for options */
            margin: 10px 0;
            text-align: left;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            color: #E0E0E0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        .option-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: #87CEEB;
            transform: translateX(5px);
        }

        .quiz-header {
            margin-bottom: 20px;
        }
        #display-name {
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            color: #ADD8E6; /* Light blue */
            margin-bottom: 10px;
            font-size: 1.1em;
            text-shadow: 0 0 5px rgba(173, 216, 230, 0.5);
        }

        .progress-bar-bg {
            background: rgba(255, 255, 255, 0.2);
            height: 10px;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        #progress-bar-fill {
            background: linear-gradient(90deg, #8A2BE2 0%, #4682B4 100%); /* Purple to SteelBlue gradient */
            height: 100%;
            width: 0%;
            transition: width 0.5s ease-out;
            border-radius: 5px;
        }

        #timer-display {
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            color: #FFD700; /* Gold color for timer */
            margin-bottom: 10px;
            font-size: 1.2em;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        #question-text {
            color: #E0E0E0;
            font-size: 1.4rem;
            min-height: 80px; /* Ensure space for longer questions */
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
        }

        #ranking-box {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem;
            color: #FFD700; /* Gold for ranking */
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            margin-bottom: 20px;
        }
        #final-stats {
            color: #C0C0C0;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        #review-container {
            text-align: left;
            max-height: 350px;
            overflow-y: auto;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: #C0C0C0;
        }
        #review-container::-webkit-scrollbar { width: 8px; }
        #review-container::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
        #review-container::-webkit-scrollbar-thumb { background: rgba(173, 216, 230, 0.4); border-radius: 10px; }
        #review-container::-webkit-scrollbar-thumb:hover { background: rgba(173, 216, 230, 0.6); }


        .review-item {
            padding: 10px 0;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
        }
        .status-correct { color: #00FF7F; font-weight: bold; } /* Spring Green */
        .status-wrong { color: #FF6347; font-weight: bold; } /* Tomato Red */

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .quiz-card {
                padding: 25px;
                border-radius: 15px;
            }
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.3rem; }
            #ranking-box { font-size: 2.5rem; }
            .option-btn { font-size: 0.9rem; padding: 12px; }
            #question-text { font-size: 1.2rem; min-height: 70px; }
        }
    </style>
</head>
<body>

<div id="quiz-wrapper">
    <div id="start-screen" class="quiz-card">
        <h1>üåå Universe Vocab Quiz üåå</h1>
        <p>B∆∞·ªõc v√†o kh√¥ng gian ki·∫øn th·ª©c. Nh·∫≠p t√™n b·∫°n ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
        <input type="text" id="student-name" placeholder="T√™n phi h√†nh gia c·ªßa b·∫°n..." />
        <br>
        <button onclick="startQuiz()">B·∫Øt ƒë·∫ßu h√†nh tr√¨nh</button>
    </div>

    <div id="quiz-container" class="quiz-card hide">
        <div class="quiz-header">
            <div id="display-name"></div>
            <div class="progress-bar-bg">
                <div id="progress-bar-fill"></div>
            </div>
            <div id="timer-display">‚è±Ô∏è <span id="time-left">20</span>s</div>
        </div>
        <div id="question-box">
            <h2 id="question-text"></h2>
            <div id="options-container"></div>
        </div>
    </div>

    <div id="result-screen" class="quiz-card hide">
        <h2>üå† K·∫øt qu·∫£ nhi·ªám v·ª• üå†</h2>
        <div id="ranking-box"></div>
        <div id="final-stats"></div>
        <h3>T√≥m t·∫Øt:</h3>
        <div id="review-container"></div>
        <button onclick="location.reload()">Kh√°m ph√° l·∫°i</button>
    </div>
</div>

<script>
// Web Audio API for sound effects (no external files needed)
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playBeep(freq, type, duration = 0.2) {
    if (audioCtx.state === 'suspended') audioCtx.resume();
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.type = type;
    osc.frequency.value = freq;
    gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
    osc.start();
    osc.stop(audioCtx.currentTime + duration);
}

const quizData = [
    { q: "She has the ________ to sing beautifully.", a: ["ability", "ban", "pilot", "right"], c: 0 },
    { q: "He was ________ to walk because of his leg.", a: ["able", "unable", "gentle", "equal"], c: 1 },
    { q: "The government decided to ________ smoking.", a: ["earn", "face", "ban", "focus"], c: 2 },
    { q: "In the past, many girls were ________ to get married.", a: ["forced", "gentle", "official", "equal"], c: 0 },
    { q: "He is a famous ________ who traveled to space.", a: ["firefighter", "cosmonaut", "surgeon", "secretary"], c: 1 },
    { q: "We need to ________ this problem now.", a: ["deal with", "earn", "focus", "ban"], c: 0 },
    { q: "________ is a serious crime in families.", a: ["Fitness", "Domestic violence", "Teamwork", "Knowledge"], c: 1 },
    { q: "She works hard to ________ a high salary.", a: ["face", "earn", "promote", "treat"], c: 1 },
    { q: "Men and women should have ________ rights.", a: ["equal", "low-paying", "mental", "physical"], c: 0 },
    { q: "We fight for ________ in society.", a: ["equality", "violence", "pressure", "ability"], c: 0 },
    { q: "Using phone too much hurts your ________.", a: ["fitness", "eyesight", "strength", "knowledge"], c: 1 },
    { q: "You must ________ the truth.", a: ["face", "earn", "ban", "treat"], c: 0 },
    { q: "The ________ put out the fire.", a: ["pilot", "firefighter", "officer", "secretary"], c: 1 },
    { q: "Exercise helps improve your ________.", a: ["fitness", "knowledge", "violence", "reason"], c: 0 },
    { q: "Please ________ on your lesson.", a: ["face", "focus", "earn", "treat"], c: 1 },
    { q: "Organizations promote ________.", a: ["gender equality", "violence", "pressure", "safety"], c: 0 },
    { q: "He is very ________ with children.", a: ["gentle", "forced", "unable", "physical"], c: 0 },
    { q: "They will ________ next month.", a: ["get married", "deal with", "earn", "ban"], c: 0 },
    { q: "A surgeon is a ________ job.", a: ["high-paying", "low-paying", "uneducated", "unable"], c: 0 },
    { q: "Each ________ has a different name.", a: ["individual", "equality", "knowledge", "safety"], c: 0 },
    { q: "Children aged 4 go to ________.", a: ["medical school", "kindergarten", "university", "office"], c: 1 },
    { q: "Reading gives you more ________.", a: ["strength", "knowledge", "fitness", "violence"], c: 1 },
    { q: "Cleaning is often a ________ job.", a: ["high-paying", "low-paying", "professional", "skillful"], c: 1 },
    { q: "It's time to ________ about your job.", a: ["make a decision", "get married", "deal with", "ban"], c: 0 },
    { q: "He is studying to be a doctor at ________.", a: ["kindergarten", "medical school", "office", "camp"], c: 1 },
    { q: "Yoga is good for ________ health.", a: ["mental", "gentle", "equal", "forced"], c: 0 },
    { q: "The police ________ caught the thief.", a: ["officer", "secretary", "pilot", "patient"], c: 0 },
    { q: "The ________ was done by a surgeon.", a: ["operation", "opportunity", "equality", "strength"], c: 0 },
    { q: "Don't miss this ________ to study.", a: ["pressure", "opportunity", "violence", "victim"], c: 1 },
    { q: "Doing sport is a ________ activity.", a: ["physical", "mental", "gentle", "forced"], c: 0 }
];

let currentIdx = 0, score = 0, userName = "", userAnswers = [], timeLeft = 20, timer;

function startQuiz() {
    userName = document.getElementById('student-name').value;
    if (!userName) return alert("Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n ƒë·ªÉ b·∫Øt ƒë·∫ßu!");
    if (audioCtx.state === 'suspended') audioCtx.resume();

    document.getElementById('start-screen').classList.add('hide');
    document.getElementById('quiz-container').classList.remove('hide');
    document.getElementById('display-name').innerText = "Phi h√†nh gia: " + userName;
    loadQuestion();
}

function loadQuestion() {
    clearInterval(timer);
    timeLeft = 20;
    document.getElementById('time-left').innerText = timeLeft;
    
    const data = quizData[currentIdx];
    document.getElementById('question-text').innerText = `C√¢u ${currentIdx + 1}: ${data.q}`;
    
    const optionsDiv = document.getElementById('options-container');
    optionsDiv.innerHTML = "";
    data.a.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.className = "option-btn";
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(i);
        optionsDiv.appendChild(btn);
    });

    document.getElementById('progress-bar-fill').style.width = `${((currentIdx+1)/quizData.length)*100}%`;
    
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById('time-left').innerText = timeLeft;
        if(timeLeft <= 0) {
            clearInterval(timer);
            checkAnswer(-1); // Automatically move to next question if time runs out
        }
    }, 1000);
}

function checkAnswer(choice) {
    clearInterval(timer);
    const data = quizData[currentIdx];
    const isCorrect = choice === data.c;
    
    if(isCorrect) {
        score++;
        playBeep(880, 'sine', 0.2); // Higher frequency for correct
    } else {
        playBeep(220, 'square', 0.2); // Lower frequency for wrong
    }
    
    userAnswers.push({ q: data.q, user: choice === -1 ? "H·∫øt gi·ªù" : data.a[choice], correct: data.a[data.c], status: isCorrect });

    currentIdx++;
    if(currentIdx < quizData.length) {
        // Add a slight delay for better transition feel
        document.querySelector('.quiz-card').style.opacity = 0;
        setTimeout(() => {
            document.querySelector('.quiz-card').style.opacity = 1;
            loadQuestion();
        }, 300); // Transition time
    } else {
        showResults();
    }
}

function showResults() {
    document.getElementById('quiz-container').classList.add('hide');
    document.getElementById('result-screen').classList.remove('hide');
    
    let rankEmoji;
    if (score >= 25) rankEmoji = "üåü Th·∫ßn ƒë·ªìng v≈© tr·ª• üåü";
    else if (score >= 15) rankEmoji = "üöÄ Phi c√¥ng gi·ªèi üöÄ";
    else rankEmoji = "ü™ê T·∫≠p s·ª± kh√¥ng gian ü™ê";
    
    document.getElementById('ranking-box').innerHTML = rankEmoji;
    document.getElementById('final-stats').innerText = `${userName}, b·∫°n ƒë√∫ng ${score}/30 c√¢u!`;
    
    const reviewDiv = document.getElementById('review-container');
    reviewDiv.innerHTML = ''; // Clear previous review
    userAnswers.forEach((item, i) => {
        reviewDiv.innerHTML += `
            <div class="review-item">
                <b>${i+1}.</b> ${item.q}<br>
                <span class="${item.status?'status-correct':'status-wrong'}">
                    ${item.status ? '‚úì ƒê√∫ng: ' + item.user : '‚úó Sai: ' + item.user + ' (ƒê√°p √°n: ' + item.correct + ')'}
                </span>
            </div>
        `;
    });
}
</script>
</body>
</html>
