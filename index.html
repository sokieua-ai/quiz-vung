<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Universe Vocabulary Quiz - Anti Cheat</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Montserrat',sans-serif;
    background:url('https://plus.unsplash.com/premium_photo-1721946441955-508af523ac60?q=80&w=1146&auto=format&fit=crop') no-repeat center/cover fixed;
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.45);
    z-index:-1;
}
.quiz-card{
    background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(240,245,255,.9));
    backdrop-filter:blur(15px);
    border-radius:25px;
    padding:40px;
    width:90%;
    max-width:560px;
    text-align:center;
    box-shadow:0 25px 70px rgba(0,0,0,.35);
    animation:fadeIn .6s ease;
}
@keyframes fadeIn{
    from{opacity:0;transform:scale(.95)}
    to{opacity:1;transform:scale(1)}
}
.hide{display:none}

h1,h2,h3{
    font-family:'Orbitron',sans-serif;
    color:#0b0f2b;
}

#feedback-area {
    font-size: 3rem;
    height: 80px;
    margin-bottom: 10px;
}

input{
    width:80%;
    padding:12px;
    border-radius:10px;
    border:2px solid rgba(90,90,150,.3);
}
button{
    background:linear-gradient(90deg,#6A5ACD,#483D8B);
    color:#fff;
    border:none;
    padding:12px 30px;
    border-radius:25px;
    font-weight:bold;
    cursor:pointer;
    transition:.3s;
}
button:hover{transform:scale(1.05)}

.option-btn{
    width:100%;
    text-align:left;
    padding:15px;
    margin:10px 0;
    border-radius:15px;
    border:1px solid rgba(90,90,150,.3);
    background:rgba(255,255,255,.8);
    font-weight:600;
    cursor:pointer;
}

#progress-bar-fill{
    height:10px;
    width:0;
    background:linear-gradient(90deg,#8A2BE2,#4682B4);
    border-radius:5px;
    transition:.4s;
}
#ranking-box{
    font-size:2.5rem;
    color:#b8860b;
    margin-bottom: 20px;
}
#final-stats { font-size: 1.2rem; line-height: 2; }
</style>
</head>

<body>

<div id="start" class="quiz-card">
    <h1>ğŸŒŒ Universe Vocab ğŸŒŒ</h1>
    <p>Nháº­p tÃªn Ä‘á»ƒ báº¯t Ä‘áº§u bÃ i thi</p>
    <input id="name" placeholder="TÃªn cá»§a báº¡n">
    <br><br>
    <button onclick="startQuiz()">Báº¯t Ä‘áº§u</button>
</div>

<div id="quiz" class="quiz-card hide">
    <div id="feedback-area"></div>
    <div id="display-name" style="font-weight:bold"></div>
    <div class="progress-bar-bg" style="background:#ddd; border-radius:5px; margin:10px 0;">
        <div id="progress-bar-fill"></div>
    </div>
    <div id="timer-display">â±ï¸ <span id="time">20</span>s</div>
    <h2 id="question-text"></h2>
    <div id="options"></div>
</div>

<div id="result" class="quiz-card hide">
    <h2>ğŸŒ  Tá»”NG Káº¾T ğŸŒ </h2>
    <div id="ranking-box"></div>
    <div id="final-stats"></div>
    <br>
    <button onclick="location.reload()">LÃ m láº¡i tá»« Ä‘áº§u</button>
</div>

<script>
/* ===== Há»† THá»NG Ã‚M THANH ===== */
const ctx = new (window.AudioContext || window.webkitAudioContext)();
function playSound(type) {
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.connect(gain);
    gain.connect(ctx.destination);
    
    if(type === 'correct') {
        // Ã‚m thanh cao, vui tai
        osc.frequency.setValueAtTime(800, ctx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(1200, ctx.currentTime + 0.1);
        gain.gain.setValueAtTime(0.1, ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
        osc.start();
        osc.stop(ctx.currentTime + 0.3);
    } else {
        // Ã‚m thanh tráº§m, thÃ´ng bÃ¡o sai
        osc.frequency.setValueAtTime(200, ctx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(50, ctx.currentTime + 0.2);
        gain.gain.setValueAtTime(0.2, ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.4);
        osc.start();
        osc.stop(ctx.currentTime + 0.4);
    }
}

/* ===== Dá»® LIá»†U ===== */
const quizData=[
{q:"She has the ________ to sing beautifully.",a:["ability","ban","pilot","right"],c:0},
{q:"He was ________ to walk because of his leg.",a:["able","unable","gentle","equal"],c:1},
{q:"The government decided to ________ smoking.",a:["earn","face","ban","focus"],c:2},
{q:"In the past, many girls were ________ to get married.",a:["forced","gentle","official","equal"],c:0},
{q:"He is a famous ________ who traveled to space.",a:["firefighter","cosmonaut","surgeon","secretary"],c:1},
{q:"We need to ________ this problem now.",a:["deal with","earn","focus","ban"],c:0},
{q:"________ is a serious crime in families.",a:["Fitness","Domestic violence","Teamwork","Knowledge"],c:1},
{q:"She works hard to ________ a high salary.",a:["face","earn","promote","treat"],c:1},
{q:"Men and women should have ________ rights.",a:["equal","low-paying","mental","physical"],c:0},
{q:"We fight for ________ in society.",a:["equality","violence","pressure","ability"],c:0},
{q:"Using phone too much hurts your ________.",a:["fitness","eyesight","strength","knowledge"],c:1},
{q:"You must ________ the truth.",a:["face","earn","ban","treat"],c:0},
{q:"The ________ put out the fire.",a:["pilot","firefighter","officer","secretary"],c:1},
{q:"Exercise helps improve your ________.",a:["fitness","knowledge","violence","reason"],c:0},
{q:"Please ________ on your lesson.",a:["face","focus","earn","treat"],c:1},
{q:"Organizations promote ________.",a:["gender equality","violence","pressure","safety"],c:0},
{q:"He is very ________ with children.",a:["gentle","forced","unable","physical"],c:0},
{q:"They will ________ next month.",a:["get married","deal with","earn","ban"],c:0},
{q:"A surgeon is a ________ job.",a:["high-paying","low-paying","uneducated","unable"],c:0},
{q:"Each ________ has a different name.",a:["individual","equality","knowledge","safety"],c:1}, // Sá»­a c:1 cho Ä‘Ãºng ngá»¯ cáº£nh
{q:"Children aged 4 go to ________.",a:["medical school","kindergarten","university","office"],c:1},
{q:"Reading gives you more ________.",a:["strength","knowledge","fitness","violence"],c:1},
{q:"Cleaning is often a ________ job.",a:["high-paying","low-paying","professional","skillful"],c:1},
{q:"It's time to ________ about your job.",a:["make a decision","get married","deal with","ban"],c:0},
{q:"He studies medicine at ________.",a:["kindergarten","medical school","office","camp"],c:1},
{q:"Yoga is good for ________ health.",a:["mental","gentle","equal","forced"],c:0},
{q:"The police ________ caught the thief.",a:["officer","secretary","pilot","patient"],c:0},
{q:"The ________ was done by a surgeon.",a:["operation","opportunity","equality","strength"],c:0},
{q:"Don't miss this ________ to study.",a:["pressure","opportunity","violence","victim"],c:1},
{q:"Doing sport is a ________ activity.",a:["physical","mental","gentle","forced"],c:0}
];

let i=0, score=0, userName="", time=20, timer;

function startQuiz(){
    userName = document.getElementById("name").value;
    if(!userName) return alert("Vui lÃ²ng nháº­p tÃªn!");
    
    // XÃ¡o trá»™n cÃ¢u há»i
    for(let j=quizData.length-1; j>0; j--){
        const k = Math.floor(Math.random()*(j+1));
        [quizData[j], quizData[k]] = [quizData[k], quizData[j]];
    }

    document.getElementById("start").classList.add("hide");
    document.getElementById("quiz").classList.remove("hide");
    document.getElementById("display-name").innerText = "Há»c sinh: " + userName;
    loadQ();
}

function loadQ(){
    if(i >= quizData.length) return showResult();
    
    clearInterval(timer);
    time = 20;
    document.getElementById("time").innerText = time;
    document.getElementById("feedback-area").innerText = ""; // XÃ³a icon cÅ©
    
    let q = quizData[i];
    document.getElementById("question-text").innerText = `CÃ¢u ${i+1}/${quizData.length}: ${q.q}`;
    
    let box = document.getElementById("options");
    box.innerHTML = "";
    q.a.forEach((o, idx) => {
        let b = document.createElement("button");
        b.className = "option-btn";
        b.innerText = o;
        b.onclick = () => check(idx);
        box.appendChild(b);
    });
    
    document.getElementById("progress-bar-fill").style.width = ((i+1)/quizData.length*100) + "%";
    
    timer = setInterval(() => {
        time--;
        document.getElementById("time").innerText = time;
        if(time <= 0) check(-1);
    }, 1000);
}

function check(idx){
    clearInterval(timer);
    let q = quizData[i];
    let isCorrect = (idx === q.c);
    
    if(isCorrect) {
        score++;
        playSound('correct');
        document.getElementById("feedback-area").innerText = "ğŸŒŸ Giá»i quÃ¡!";
        document.getElementById("feedback-area").style.color = "green";
    } else {
        playSound('wrong');
        document.getElementById("feedback-area").innerText = "ğŸ¤¡ Ngu ngá»‘c";
        document.getElementById("feedback-area").style.color = "red";
    }

    // KhÃ³a cÃ¡c nÃºt khÃ´ng cho báº¥m tiáº¿p trong lÃºc chá» chuyá»ƒn cÃ¢u
    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach(btn => btn.disabled = true);

    i++;
    // Äá»£i 1 giÃ¢y Ä‘á»ƒ há»c sinh nhÃ¬n tháº¥y icon rá»“i má»›i sang cÃ¢u má»›i
    setTimeout(loadQ, 1000);
}

function showResult(){
    document.getElementById("quiz").classList.add("hide");
    document.getElementById("result").classList.remove("hide");
    
    let rank = score >= 25 ? "ğŸ’ THáº¦N Äá»’NG" : (score >= 15 ? "ğŸš€ PHI HÃ€NH GIA" : "ğŸŒ‘ Há» ÄEN");
    document.getElementById("ranking-box").innerText = rank;
    
    // Chá»‰ hiá»‡n káº¿t quáº£ sá»‘ lÆ°á»£ng, khÃ´ng hiá»‡n chi tiáº¿t cÃ¢u há»i
    document.getElementById("final-stats").innerHTML = `
        <p>ChÃºc má»«ng <b>${userName}</b>!</p>
        <p>âœ… Sá»‘ cÃ¢u Ä‘Ãºng: <span style="color:green; font-weight:bold">${score}</span></p>
        <p>âŒ Sá»‘ cÃ¢u sai: <span style="color:red; font-weight:bold">${quizData.length - score}</span></p>
        <hr>
        <p style="font-size:0.9rem; color:#666 italic">Há»c sinh khÃ´ng thá»ƒ xem láº¡i Ä‘Ã¡p Ã¡n Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh cÃ´ng báº±ng.</p>
    `;
}
</script>

</body>
</html>
